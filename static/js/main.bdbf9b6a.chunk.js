(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),i=a.n(s),o=(a(15),a(1)),l=a(2),u=a(7),h=a(6),c=a(3),m=a(8);a(16);function v(e){for(var t=e.length,a=e[0].length,n=[],r=0;r<t;++r){n.push([]);for(var s=0;s<a;++s)n[r][s]=e[s][a-r-1]}return n}var f=function(){function e(t){Object(o.a)(this,e),this.state=void 0,this.score=void 0,this.gameOver=void 0,this.state=t?t.state:function(e){for(var t=Array(e),a=0;a<e;a++)t[a]=Array(e);for(var n=0,r=0;r<e;r++)for(var s=0;s<e;s++){var i={value:0,key:n,new:!1};t[r][s]=i,n++}return t}(4),this.score=t?t.score:0,this.gameOver=!!t&&t.gameOver,t||(this.addPiece(),this.addPiece())}return Object(l.a)(e,[{key:"removeNew",value:function(){for(var e=0;e<this.state.length;e++)for(var t=0;t<this.state.length;t++)this.state[e][t].new=!1}},{key:"addPiece",value:function(){for(var e=Math.floor(4*Math.random())+0,t=Math.floor(4*Math.random())+0,a=this.state,n=!1;!n;){if(this.boardFull()){console.warn("CANNOT PLACE ANYMORE PIECES?!");break}0==a[e][t].value?(a[e][t].value=2,a[e][t].new=!0,n=!0):(e=Math.floor(4*Math.random())+0,t=Math.floor(4*Math.random())+0)}this.state=a}},{key:"boardFull",value:function(){for(var e=0;e<this.state.length;e++)for(var t=0;t<this.state.length;t++)if(0==this.state[e][t].value)return!1;return!0}},{key:"isGameOver",value:function(){if(this.boardFull()){for(var e=0;e<this.state.length;e++)for(var t=0;t<this.state.length;t++){if(t<this.state.length-1&&this.state[e][t].value==this.state[e][t+1].value)return!1;if(t>0&&this.state[e][t].value==this.state[e][t-1].value)return!1;if(e<this.state.length-1&&this.state[e][t].value==this.state[e+1][t].value)return!1;if(e>0&&this.state[e][t].value==this.state[e-1][t].value)return!1}return this.gameOver=!0,!0}return!1}},{key:"slideLeft",value:function(e){var t=e||this.state,a=!1,n=0;return t=t.map(function(e){for(var t=0,r=0;r<e.length;r++)if(0!==e[r].value)for(var s=r;s>t;s--)if(0===e[s-1].value&&(e[s-1].value=e[s].value,e[s].value=0,a=!0),e[s-1].value===e[s].value){e[s-1].value=e[s-1].value+e[s].value,n+=e[s-1].value,t=s-1,e[s].value=0,a=!0;break}return e}),this.state=t,this.score=this.score+n,a}},{key:"move",value:function(e){if(this.isGameOver())return console.warn("Game over, you lost."),void this.removeNew();var t=this.state,a=!1;if("left"==e)a=this.slideLeft();else if("up"==e){for(var n=0;n<1;n++)t=v(t);a=this.slideLeft(t);for(var r=1;r<4;r++)t=v(t)}else if("down"==e){for(var s=0;s<3;s++)t=v(t);a=this.slideLeft(t);for(var i=3;i<4;i++)t=v(t)}else if("right"==e){for(var o=0;o<2;o++)t=v(t);a=this.slideLeft(t);for(var l=2;l<4;l++)t=v(t)}this.state=t,a&&(this.removeNew(),this.addPiece())}}]),e}(),d=function(e){var t={width:"50px",height:"50px",display:"inline-block",borderRadius:"10px",verticalAlign:"middle",margin:"10px 10px 10px 10px"};return t.backgroundColor=2==e.number?"#33CEFF":4==e.number?"#FF3368":8==e.number?"#3368FF":16==e.number?"#00f5e0":32==e.number?"#CA33FF":64==e.number?"#ff6df3":128==e.number?"#25ff00":256==e.number?"#6faeff":512==e.number?"#FF33CE":1024==e.number?"#ff6969":2048==e.number?"#ffd533":"#ececec",r.a.createElement("span",{className:e.class,style:t},r.a.createElement(r.a.Fragment,null,0!=e.number?e.number:void 0))},b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).startX=void 0,a.startY=void 0,a.handleKeyDown=a.handleKeyDown.bind(Object(c.a)(a)),a.startX=0,a.startY=0,a.state={game:new f},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"handleKeyDown",value:function(e){if([37,38,39,40].includes(e.keyCode)){e.preventDefault();var t=new f(this.state.game);t.move({37:"left",38:"up",39:"right",40:"down"}[e.keyCode]),this.setState({game:t})}}},{key:"handleTouchStart",value:function(e){this.state.game.gameOver||1==e.touches.length&&(this.startX=e.touches[0].screenX,this.startY=e.touches[0].screenY,e.preventDefault())}},{key:"handleTouchEnd",value:function(e){if(!this.state.game.gameOver&&1==e.changedTouches.length){var t=e.changedTouches[0].screenX-this.startX,a=e.changedTouches[0].screenY-this.startY,n=-1;if(Math.abs(t)>3*Math.abs(a)&&Math.abs(t)>30?n=t>0?2:0:Math.abs(a)>3*Math.abs(t)&&Math.abs(a)>30&&(n=a>0?3:1),-1!=n){var r=new f(this.state.game);r.move(["left","up","right","down"][n]),this.setState({game:r})}}}},{key:"render",value:function(){var e=this,t=-1,a=this.state.game.gameOver?"gameOver":"game",n=r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.setState({game:new f})}},"Restart");return r.a.createElement("div",{className:"Board"},r.a.createElement("p",null,"Testing the colors of the Tiles"),r.a.createElement(d,{number:2}),r.a.createElement(d,{number:4}),r.a.createElement(d,{number:8}),r.a.createElement(d,{number:16}),r.a.createElement(d,{number:32}),r.a.createElement(d,{number:64}),r.a.createElement(d,{number:128}),r.a.createElement(d,{number:256}),r.a.createElement(d,{number:512}),r.a.createElement(d,{number:1024}),r.a.createElement(d,{number:2048}),r.a.createElement(d,null),r.a.createElement("p",null,"Beta Game Board"),r.a.createElement("div",{className:"score"},r.a.createElement("p",null,this.state.game.score),this.state.game.gameOver?n:r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:a,onTouchStart:this.handleTouchStart.bind(this),onTouchEnd:this.handleTouchEnd.bind(this)},this.state.game.state.map(function(e){return t++,r.a.createElement("div",{className:"row",key:t},e.map(function(e){return e.new?r.a.createElement(d,{class:"overlay",key:e.key,number:e.value}):r.a.createElement(d,{key:e.key,number:e.value})}))})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.bdbf9b6a.chunk.js.map